name: Deploy
on:
  push:
    branches: main
  pull_request:
    branches: main

env:
  THU_MUC_DU_AN: üìê D·ª± √°n
  THU_MUC_THIET_LAP: Œû Thi·∫øt l·∫≠p
  TAP_TIN_THIET_LAP: Œû Thi·∫øt l·∫≠p\\Œû Thi·∫øt l·∫≠p.md
  THU_MUC_CHUA_TAT_CA_CAC_VAULT: D:\\QC supplements\\Vaults

  DUONG_DAN_DEN_TAP_TIN_CSV: ./core/A. C·∫•u h√¨nh/wpd9_posts.csv
  DUONG_DAN_DEN_CAU_HINH_CHUNG: ./core/A. C·∫•u h√¨nh/N∆°i ƒëƒÉng/C·∫•u h√¨nh chung.yaml
  THU_MUC_CAU_HINH_NOI_DANG: ./core/A. C·∫•u h√¨nh/N∆°i ƒëƒÉng

jobs:
  deploy:
    name: Deploy
    runs-on: ubuntu-latest

    permissions:
      id-token: write # Needed for auth with Deno Deploy
      contents: read # Needed to clone the repository

    steps:
      - name: Clone repository
        uses: actions/checkout@v3

      - name: Install Deno
        uses: denoland/setup-deno@v1
        with:
          deno-version: v1.x

      - name: Build step
        run: "deno task build"

      - name: Upload to Deno Deploy
        uses: denoland/deployctl@v1
        with:
          project: "doi-thoai"
          entrypoint: "main.ts"
          root: "."
